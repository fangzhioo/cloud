(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{Urcz:function(e,t,a){"use strict";a.r(t);a("oeA4");var n=a("MS9U"),r=(a("Ieg7"),a("N08v")),c=a("ZZRV"),i=a.n(c),o=a("fXbq"),u=a("PQ3o"),s=a("Qko3"),l=[{type:"paragraph",children:[{text:"A line of text in a paragraph."}]}],p=function(){var e=Object(c["useMemo"])((function(){return Object(s["c"])(Object(u["h"])())}),[]),t=Object(c["useState"])(l),a=Object(o["a"])(t,2),n=a[0],r=a[1],p=function(e){console.log(e),r(e)};return i.a.createElement(s["b"],{editor:e,value:n,onChange:p},i.a.createElement(s["a"],{onKeyDown:function(t){"&"===t.key&&(t.preventDefault(),e.insertText("and"))}}))},f=p,d=a("iepV"),h=function(){return i.a.createElement(n["a"],{bordered:!1},i.a.createElement(r["a"],null,i.a.createElement(r["a"].TabPane,{tab:"rich editor",key:"1"},i.a.createElement(f,null)),i.a.createElement(r["a"].TabPane,{tab:"AliyunOSSUpload",key:"2"},i.a.createElement(d["a"],null))))};t["default"]=h},iepV:function(e,t,a){"use strict";a("xjfw");var n=a("ElPs"),r=(a("OaC4"),a("l7xQ")),c=a("RqRT"),i=a("XGJZ"),o=a("+fD2"),u=a.n(o),s=(a("z0lO"),a("UkX0")),l=a("gKBb"),p=a("XYMm"),f=a("MjEU"),d=a("Bk2R"),h=a("Rtfb"),v=a("Yx6r"),b=(a("XxEX"),a("VVRn")),m=a("ZZRV"),y=a.n(m),g=a("sy1d");function w(){return O.apply(this,arguments)}function O(){return O=Object(p["a"])(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g["a"])("/api/aliyun/antdPolicy"));case 1:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}var j=a("Pl83"),x=b["a"].Dragger,k=function(e){Object(h["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;Object(f["a"])(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),e.state={config:{},isReady:!1},e.init=Object(p["a"])(u.a.mark((function t(){var a;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w();case 3:a=t.sent,a&&(1e4===a.code?e.setState({isReady:!0,config:Object(l["a"])({},a.data)}):(e.setState({isReady:!1}),s["a"].error(a.msg))),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),e.setState({isReady:!1}),s["a"].error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.onChange=function(t){var a=t.fileList,n=e.props.onChange;n&&n(Object(i["a"])(a))},e.onRemove=function(t){var a=e.props,n=a.value,r=a.onChange;if(void 0!==n){var c=n.filter((function(e){return e.url!==t.url}));r&&r(c)}},e.transformFile=function(t){var a=e.state.config,n=Date.now()+t.name;return t.url=a.dir+n,t},e.getExtraData=function(t){var a=e.state.config;return{key:t.url,OSSAccessKeyId:a.accessId,policy:a.policy,Signature:a.signature}},e.beforeUpload=Object(p["a"])(u.a.mark((function t(){var a;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.state.config.expire,!(a<Date.now())){t.next=4;break}return t.next=4,e.init();case 4:return t.abrupt("return",!0);case 5:case"end":return t.stop()}}),t)}))),e.handleSuccess=function(t,a,n){var r=e.props.onSuccess,c="".concat(n.responseURL).concat(a.url);r&&r(c,a.name),console.log(c)},e.handleRetry=Object(p["a"])(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.init();case 2:case"end":return t.stop()}}),t)}))),e}return Object(d["a"])(a,[{key:"componentDidMount",value:function(){var e=Object(p["a"])(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=this.props,t=e.value,a=Object(c["a"])(e,["value"]),i=this.state,o=i.config,u=i.isReady,s=o.host;if(!u)return y.a.createElement("div",{style:{display:"flex",justifyContent:"center",padding:20}},y.a.createElement(r["a"],null));if(void 0===s||null===s||""===s)return y.a.createElement("p",null,"\u83b7\u53d6Aliyun OSS config\u5931\u8d25\uff01 ",y.a.createElement(n["a"],{onClick:this.handleRetry,type:"link"},"\u70b9\u51fb\u91cd\u8bd5")," ");var p=Object(l["a"])(Object(l["a"])({},a),{},{name:"file",fileList:t,action:s,onChange:this.onChange,onRemove:this.onRemove,transformFile:this.transformFile,data:this.getExtraData,beforeUpload:this.beforeUpload,onSuccess:this.handleSuccess});return y.a.createElement(x,p,y.a.createElement("p",null," ",y.a.createElement(j["a"],null)),y.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"))}}]),a}(y.a.Component);t["a"]=k}}]);